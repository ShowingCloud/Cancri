<div class="container">
  <h2 class="page-header">
    用户注册
  </h2>
  <style type="text/css">
      .email-notice {
          position: relative;
      }

      .error {
          background: rgba(0, 0, 0, 0) url("/img/wrong.jpg") no-repeat scroll 5px 0;
          color: #777;
          padding: 2px 0 2px 30px;
      }

      input[name='captcha'] {
          background-color: #fff;
          background-image: none;
          border: 1px solid #ccc;
          border-radius: 4px;
          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;
          color: #555;
          display: block;
          font-size: 14px;
          height: 34px;
          line-height: 1.42857;
          padding: 6px 12px;
          transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;
          width: 45%;
      }
  </style>
  <div class="row">
    <div class="col-md-4 col-sm-6">
      <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <!--<%= devise_error_messages! %>-->

          <div class="field form-group email-notice">
            <label for="user_email" class="control-label">邮箱</label>

            <div class="pull-right">没有邮箱？请用<a href="/accounts/register">手机注册</a><br/>
            </div>
            <% if resource.errors[:email].present? %>
                <ul>
                  <% resource.errors[:email].each do |msg| %>
                      <li><%= msg %></li>
                  <% end %>
                </ul>
            <% end %>
            <%= f.email_field :email, placeholder: '请输入邮箱', class: 'form-control register-email' %>
            <!--<span id="require-email" class="require-error " style="right: 8px;bottom: 8px;position: absolute;color: darkred">必填</span>-->
          </div>
          <div class="email-exists hidden"><span id="" class="error" style=""></span><br/><br/></div>
          <!--<%= f.input :nickname, as: :tel, placeholder: '请输入昵称', wrapper_html: {class: ''} %>-->

          <div class="field form-group">
            <label for="user_nickname" class="control-label">昵称</label>
            <% if resource.errors[:nickname].present? %>
                <ul>
                  <% resource.errors[:nickname].each do |msg| %>
                      <li><%= msg %></li>
                  <% end %>
                </ul>
            <% end %>
            <%= f.text_field :nickname, placeholder: '请输入昵称', class: 'form-control' %>
          </div>

          <div class="field form-group">
            <label for="user_password" class="control-label">密码</label>
            <% if resource.errors[:password].present? %>
                <ul>
                  <% resource.errors[:password].each do |msg| %>
                      <li><%= msg %></li>
                  <% end %>
                </ul>
            <% end %>
            <%= f.password_field :password, placeholder: '请输入密码（6-20位）', autocomplete: "off", class: 'form-control' %>
          </div>

          <div class="field form-group">

            <label for="user_password_confirmation" class="control-label">确认密码</label>
            <br/>
            <% if resource.errors[:password_confirmation].present? %>
                <ul>
                  <% resource.errors[:password_confirmation].each do |msg| %>
                      <li><%= msg %></li>
                  <% end %>
                </ul>
            <% end %>
            <%= f.password_field :password_confirmation, placeholder: '请输入确认密码', autocomplete: "off", class: 'form-control' %>
          </div>


          <div class="field form-group">
            <% if request.post? %>
                <p>
                  <% unless valid_captcha?(params[:captcha]) %>
                      校验码不正确
                  <% end %>
                </p>
            <% end %>
            <label for="captcha" class="control-label">校验码：</label>

            <div class="clearfix"></div>
            <p class="pull-right" id="captcha-plus"><%= captcha_tag %> <span class="btn refresh-captcha">换一张</span></p>

            <%= text_field_tag :captcha %>
          </div>


          <div class="actions form-group form-group-lg">
            <%= f.submit class: 'btn btn-primary btn-block', value: '立即注册' %>
          </div>
      <% end %>
      <p class="clearfix text-right">
        <a href="<%= new_user_session_path %>">使用已有账户登录</a>
      </p>
    </div>
  </div>

</div>





<!--<%= render "users/shared/links" %>-->
